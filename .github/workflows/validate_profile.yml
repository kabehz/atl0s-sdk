name: âœ… Validar Perfil de Colaborador

on:
  pull_request:
    paths:
      - 'profiles/profile-*.md'

jobs:
  check-profile:
    runs-on: ubuntu-latest
    steps:
      - name: Clonar repositorio
        uses: actions/checkout@v3

      - name: Verificar contenido de perfil
        run: |
          archivo=$(find profiles -type f -name "profile-*.md")
          echo "ðŸ“„ Verificando $archivo"
          if grep -q "Ingeniero/a en SoberanÃ­a Digital" "$archivo" &&
             grep -q "Labs completados" "$archivo" &&
             grep -q "Firma Ã‰tica" "$archivo" &&
             grep -q "badge-nivel-" "$archivo" &&
             grep -q "badge-role-" "$archivo"; then
              echo "âœ… Perfil vÃ¡lido"
          else
              echo "âŒ Perfil incompleto o mal formateado. Revisa los campos obligatorios." >&2
              exit 1
          fi
